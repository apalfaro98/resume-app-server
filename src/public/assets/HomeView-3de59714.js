import{d as C,r as c,o as D,c as k,i as a,b as i,e as t,t as u,w as b,v as g,u as p,F as N,k as B,a as x,j as w,l as H}from"./index-5005e09e.js";import{_ as T}from"./no-image-3354de6f.js";const q={class:"ml-6 text-red-600 font-bold"},L=t("h3",{class:"ml-6 mt-4 text-lg"},"Filtrar por:",-1),R={class:"flex items-start"},S=t("label",{class:"ml-6 mt-1",for:""},"Habilidades:",-1),W={class:"ml-3"},z={class:"flex items-start"},G=t("label",{class:"ml-6 mt-1",for:""},"Edad Mínima:",-1),I=t("label",{class:"ml-6 mt-1",for:""},"Edad Máxima:",-1),J={class:"ml-6 mt-6"},K=t("thead",null,[t("tr",null,[t("td"),t("td",{class:"text-xl font-bold px-6"},"Nombre"),t("td",{class:"text-xl font-bold px-6"},"Edad"),t("td",{class:"text-xl font-bold px-6"},"Habilidades"),t("td",{class:"text-xl font-bold px-6"},"Acciones")])],-1),O={class:"py-2"},P=["src"],Q=["src"],X={key:2,src:T,class:"w-16"},Y={class:"px-6"},Z={class:"px-6"},tt={class:"px-6"},et={class:"px-6"},st=["onClick"],lt=["onClick"],ot=["onClick"],nt=C({__name:"ResumesTable",setup($){const d=c([]),o=c(""),n=c([]),r=c(0),m=c(0),h=c(""),v=w(),_=()=>{x.getAll().then(l=>{d.value=l}).catch(console.log)};D(()=>{_()});const A=k(()=>{let l=[];return d.value.forEach((s,e)=>{l[e]=s.abilities.join(", ")}),l}),V=()=>{o.value&&(n.value.push(o.value),o.value="")},E=k(()=>n.value.join(", ")),U=()=>{x.getAll(n.value,r.value,m.value).then(l=>{d.value=l}).catch(console.log)},F=()=>{n.value=[],o.value="",r.value=0,m.value=0,_()},M=l=>{x.deleteCV(l).then(s=>{console.log(s),_()}).catch(s=>{h.value=s.response.data.errors[0].msg})},j=l=>{v.push(`/newEdit?action=edit&id=${l}`)};return(l,s)=>(a(),i("div",null,[t("span",q,u(h.value),1),L,t("div",R,[S,b(t("input",{type:"text",class:"border-2 border-gray-900 rounded-lg block mb-4 py-1 px-2 ml-3","onUpdate:modelValue":s[0]||(s[0]=e=>o.value=e)},null,512),[[g,o.value]]),t("button",{class:"bg-cyan-200 py-2 px-3 rounded-lg font-semibold ml-3",onClick:V}," Agregar "),t("span",W,u(p(E)),1)]),t("div",z,[G,b(t("input",{type:"number",class:"border-2 border-gray-900 rounded-lg block mb-4 py-1 px-2 ml-3",min:"0",max:"120","onUpdate:modelValue":s[1]||(s[1]=e=>r.value=e)},null,512),[[g,r.value]]),I,b(t("input",{type:"number",class:"border-2 border-gray-900 rounded-lg block mb-4 py-1 px-2 ml-3",min:"0",max:"120","onUpdate:modelValue":s[2]||(s[2]=e=>m.value=e)},null,512),[[g,m.value]]),t("button",{class:"bg-gray-400 py-2 px-3 rounded-lg font-semibold ml-3",onClick:U}," Filtrar "),t("button",{class:"bg-orange-400 py-2 px-3 rounded-lg font-semibold ml-3",onClick:F}," Limpiar Filtros ")]),t("table",J,[K,t("tbody",null,[(a(!0),i(N,null,B(d.value,(e,f)=>(a(),i("tr",{key:f},[t("td",O,[e.imageUrl&&e.imageUrl.startsWith("http")?(a(),i("img",{key:0,src:e.imageUrl,class:"w-16"},null,8,P)):e.imageUrl?(a(),i("img",{key:1,src:`http://localhost:3000/images/${e.imageUrl}`,class:"w-16"},null,8,Q)):(a(),i("img",X))]),t("td",Y,u(e.name),1),t("td",Z,u(e.age),1),t("td",tt,u(p(A)[f]),1),t("td",et,[t("button",{class:"bg-cyan-500 py-2 px-4 rounded-lg font-semibold",onClick:y=>p(v).push(`/home/${e._id}`)}," Detalles ",8,st),t("button",{class:"bg-orange-500 py-2 px-4 rounded-lg font-semibold ml-2",onClick:y=>j(e._id)}," Modificar ",8,lt),t("button",{class:"bg-red-500 py-2 px-4 rounded-lg font-semibold ml-2",onClick:y=>M(e._id)}," Eliminar ",8,ot)])]))),128))])])]))}}),at={class:"flex justify-between items-center w-4/5"},it=t("h1",{class:"text-3xl ml-4 mt-7"},"Currículos",-1),rt=C({__name:"HomeView",setup($){const d=w();return(o,n)=>(a(),i("div",null,[t("div",at,[it,t("button",{class:"bg-green-600 py-2 px-6 rounded-lg font-semibold mt-7",onClick:n[0]||(n[0]=r=>p(d).push("/newEdit?action=new"))}," Nuevo ")]),H(nt)]))}});export{rt as default};
